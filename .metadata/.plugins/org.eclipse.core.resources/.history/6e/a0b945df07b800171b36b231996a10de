package adapter;

import java.io.BufferedReader;
import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;

public class MapReader {

	private int mStage;
	private int mMapInfo[][];

	public MapReader(int stage) {
		mMapInfo = new int[18][20];
		mStage = stage;
	}

	public void setStage() {
		readFile();
	}

	private void readFile() {
		String fileName = "./src/map/stage_" + mStage + ".txt";

		String line = "";
		StringBuffer buff = new StringBuffer();

		try {
			BufferedReader br = new BufferedReader(new FileReader(new File(fileName)));

			while ((line = br.readLine()) != null) {
				buff.append(line);
			}
			// System.out.println(buff);
			br.close();

		} catch (FileNotFoundException e) {
			e.printStackTrace();
		} catch (IOException e) {
			e.printStackTrace();
		}

		char[] mapData = buff.toString().toCharArray();

		int cnt = 0;
		for(int i = 0; i<mMapInfo.length; i++) {
			for(int j = 0; j<mMapInfo[0].length; j++) {
				mMapInfo[i][j] = mapData[cnt++]; 
			}
		}
		
		
		for(int i = 0; i<mMapInfo.length; i++) {
			for(int j = 0; j<mMapInfo[0].length; j++) {
				System.out.print(mMapInfo[i][j]+"  ");
			}
			System.out.println();
		}
		
	}

	public void nextStage() {
		mStage += 1;
		setStage();
	}

}
